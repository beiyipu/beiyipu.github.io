(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c1d76e2e"],{4646:function(e,t,i){"use strict";i("daba")},9406:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shop-config-container",staticStyle:{"padding-left":"15px","padding-right":"15px"}},[i("el-row",{attrs:{gutter:10}},e._l(e.productAll.productList,(function(t){return i("el-col",{key:t,staticStyle:{"padding-top":"10px"},attrs:{span:6}},[i("el-card",{staticStyle:{height:"400px"},attrs:{"body-style":{padding:"5px"},shadow:"always"}},[i("img",{staticClass:"image",attrs:{src:t.Image[0]}}),i("div",{staticStyle:{padding:"14px"}},[i("span",[e._v(e._s(t.Name))]),i("hr"),i("el-row",{attrs:{gutter:12}},[i("el-col",{attrs:{span:12}},[i("span",[e._v("分类:"+e._s(t.Category))])]),i("el-col",{attrs:{span:12}},[i("span",[e._v("价格:￥"+e._s(t.Price))])])],1),i("span",{staticClass:"time"},[e._v(e._s(t.Description))]),i("br"),i("div",{staticClass:"bottom clearfix"},[i("span",{staticStyle:{float:"left","font-size":"18px"}},[e._v("销量:"+e._s(t.Sales)+"/月")]),i("el-button-group",{staticClass:"button"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"}}),i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(i){return e.deleteOneByUuid(t.Uuid)}}})],1)],1)],1)])],1)})),1),i("br"),i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:1e3}}),i("br")],1)},n=[],r=(i("d3b7"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-upload",{attrs:{"list-type":"picture-card",action:"",limit:1,"http-request":e.handleImageUpload,"before-upload":e.beforeImageUpload,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleImageRemove,"on-exceed":e.handleImageExceed}},[i("i",{staticClass:"el-icon-plus"})]),i("el-dialog",{attrs:{visible:e.imageDialogVisible},on:{"update:visible":function(t){e.imageDialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)}),o=[],l=(i("4de4"),i("b0c0"),i("ac1f"),i("1276"),i("34b8")),s=i("5f72"),c=i("ed08"),u=i("11c1"),d={model:{prop:"imageUrl",event:"update"},props:{imageUrl:{type:String,default:""}},data:function(){return{imageDialogVisible:!1,imageList:[]}},watch:{imageList:{handler:function(e){e&&e.length?this.imageUrl="https://beiyipu.oss-cn-beijing.aliyuncs.com/images/"+e[0].filename:this.imageUrl=""},deep:!0},imageUrl:{handler:function(e){this.$emit("update",e)}}},methods:{handleImageUpload:function(e){var t=this;try{var i=e.file.name.split(".");if(!i||i.length<=1)return s["Message"].error("文件名称不正确");var a=Object(u["v4"])()+"."+i.reverse()[0],n=s["Loading"].service({lock:!0,text:"图片上传中，请稍后",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(l["a"])(a,e.file,1e3).then((function(i){return t.imageList.push({uid:e.file.uid,filename:a})})).catch((function(e){return s["Message"].error(Object(c["a"])(e))})).finally((function(){return n.close()}))}catch(r){s["Message"].error(Object(c["a"])(r))}},beforeImageUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||s["Message"].error("上传图片只能是 JPG 或PNG格式");var i=e.size/1024/1024<10;return i||s["Message"].error("上传图片大小不能超过 10MB"),t&&i},handleImageRemove:function(e){this.imageList=this.imageList.filter((function(t){return t.uid!==e.uid}))},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.imageDialogVisible=!0},handleImageExceed:function(){s["Message"].warning("最多只能上传1张图片")}}},g=d,p=i("2877"),m=Object(p["a"])(g,r,o,!1,null,"a03517f6",null),f=m.exports,h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-upload",{attrs:{"list-type":"picture-card",action:"",limit:10,"http-request":e.handleImageUpload,"before-upload":e.beforeImageUpload,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleImageRemove,"on-exceed":e.handleImageExceed}},[i("i",{staticClass:"el-icon-plus"})]),i("el-dialog",{attrs:{visible:e.imageDialogVisible},on:{"update:visible":function(t){e.imageDialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},b=[],v=(i("d81d"),{model:{prop:"imageUrlList",event:"update"},props:{imageUrlList:{type:Array,default:[]}},data:function(){return{imageDialogVisible:!1,imageList:[]}},watch:{imageList:{handler:function(e){e&&e.length?this.imageUrlList=e.map((function(e){return"https://beiyipu.oss-cn-beijing.aliyuncs.com/images/"+e.filename})):this.posterUrl=""},deep:!0},imageUrlList:{handler:function(e){this.$emit("update",e)}}},methods:{handleImageUpload:function(e){var t=this;try{var i=e.file.name.split(".");if(!i||i.length<=1)return s["Message"].error("文件名称不正确");var a=Object(u["v4"])()+"."+i.reverse()[0],n=s["Loading"].service({lock:!0,text:"宣传图片上传中，请稍后",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(l["a"])(a,e.file,1e3).then((function(i){return t.imageList.push({uid:e.file.uid,filename:a})})).catch((function(e){return s["Message"].error(Object(c["a"])(e))})).finally((function(){return n.close()}))}catch(r){s["Message"].error(Object(c["a"])(r))}},beforeImageUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||s["Message"].error("宣传图片只能是 JPG 或PNG格式");var i=e.size/1024/1024<10;return i||s["Message"].error("宣传图片大小不能超过 10MB"),t&&i},handleImageRemove:function(e){this.imageList=this.imageList.filter((function(t){return t.uid!==e.uid}))},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.imageDialogVisible=!0},handleImageExceed:function(){s["Message"].warning("最多只能上传10张宣传图片")}}}),y=v,U=Object(p["a"])(y,h,b,!1,null,"814124c4",null),I=U.exports,j=i("c4c8"),w={components:{ImageUpload:f,ImageListUpload:I},data:function(){return{productAll:{productList:[],productCount:""}}},created:function(){var e=this;Object(j["c"])().then((function(t){console.log(t[1]),t&&(e.productAll.productList=t[0].reverse(),e.productAll.productCount=t[1],console.log(e.productAll.productCount))})).catch((function(e){return s["Message"].error(Object(c["a"])(e))}))},methods:{deleteOneByUuid:function(e){var t=this;Object(j["b"])(e).then((function(e){t.$alert(e,"提示",{confirmButtonText:"确定",callback:function(i){t.$message({type:"info",message:"action: ".concat(e)})}})})).catch((function(e){return s["Message"].error(Object(c["a"])(e))})).finally((function(){location.reload()}))}}},x=w,L=(i("4646"),Object(p["a"])(x,a,n,!1,null,"34e8085c",null));t["default"]=L.exports},c4c8:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return o}));var a=i("b775");function n(e,t,i,n,r,o,l){return Object(a["a"])({url:"/product",method:"post",data:{Name:e,Category:t,Price:i,Sales:n,Description:r,Image:o,ImageMore:l}})}function r(){return Object(a["a"])({url:"/product",method:"get"})}function o(e){return Object(a["a"])({url:"/product/uuid",method:"delete",data:{Uuid:e}})}},daba:function(e,t,i){}}]);