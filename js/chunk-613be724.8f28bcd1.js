(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-613be724"],{"07fc":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shop-config-container"},[i("el-form",{staticClass:"config-form",attrs:{model:e.product,"label-width":"300px"}},[i("el-form-item",{attrs:{label:"商品名称",required:""}},[i("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.product.name,callback:function(t){e.$set(e.product,"name",t)},expression:"product.name"}})],1),i("el-form-item",{attrs:{label:"商品分类"}},[i("el-input",{attrs:{placeholder:"请输入商品分类"},model:{value:e.product.category,callback:function(t){e.$set(e.product,"category",t)},expression:"product.category"}})],1),i("el-form-item",{attrs:{label:"商品价格"}},[i("el-input",{attrs:{placeholder:"请输入商品价格"},model:{value:e.product.price,callback:function(t){e.$set(e.product,"price",t)},expression:"product.price"}})],1),i("el-form-item",{attrs:{label:"商品月销量"}},[i("el-input",{attrs:{placeholder:"请输入商品月销量"},model:{value:e.product.sales,callback:function(t){e.$set(e.product,"sales",t)},expression:"product.sales"}})],1),i("el-form-item",{attrs:{label:"商品描述"}},[i("el-input",{attrs:{placeholder:"请输入商品描述"},model:{value:e.product.description,callback:function(t){e.$set(e.product,"description",t)},expression:"product.description"}})],1),i("el-form-item",{attrs:{label:"商品图片"}},[i("image-list-upload",{model:{value:e.product.imageUrlList,callback:function(t){e.$set(e.product,"imageUrlList",t)},expression:"product.imageUrlList"}})],1),i("el-form-item",{attrs:{label:"商品详情图片"}},[i("image-more-list-upload",{model:{value:e.product.imageMoreUrlList,callback:function(t){e.$set(e.product,"imageMoreUrlList",t)},expression:"product.imageMoreUrlList"}}),i("br"),i("el-button",{attrs:{loading:e.btnLoading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.CreateProduct(t)}}},[e._v("提交商品信息 ")])],1)],1)],1)},r=[],n=(i("a4d3"),i("e01a"),i("b0c0"),i("d3b7"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-upload",{attrs:{"list-type":"picture-card",action:"",limit:10,"http-request":e.handleImageUpload,"before-upload":e.beforeImageUpload,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleImageRemove,"on-exceed":e.handleImageExceed}},[i("i",{staticClass:"el-icon-plus"})]),i("el-dialog",{attrs:{visible:e.imageDialogVisible},on:{"update:visible":function(t){e.imageDialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)}),o=[],l=(i("4de4"),i("d81d"),i("ac1f"),i("1276"),i("34b8")),c=i("5f72"),s=i("ed08"),u=i("11c1"),d={model:{prop:"imageUrlList",event:"update"},props:{imageUrlList:{type:Array,default:[]}},data:function(){return{imageDialogVisible:!1,imageList:[]}},watch:{imageList:{handler:function(e){e&&e.length?this.imageUrlList=e.map((function(e){return"https://beiyipu.oss-cn-beijing.aliyuncs.com/images/"+e.filename})):this.posterUrl=""},deep:!0},imageUrlList:{handler:function(e){this.$emit("update",e)}}},methods:{handleImageUpload:function(e){var t=this;try{var i=e.file.name.split(".");if(!i||i.length<=1)return c["Message"].error("文件名称不正确");var a=Object(u["v4"])()+"."+i.reverse()[0],r=c["Loading"].service({lock:!0,text:"宣传图片上传中，请稍后",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(l["a"])(a,e.file).then((function(i){return t.imageList.push({uid:e.file.uid,filename:a})})).catch((function(e){return c["Message"].error(Object(s["a"])(e))})).finally((function(){return r.close()}))}catch(n){c["Message"].error(Object(s["a"])(n))}},beforeImageUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||c["Message"].error("宣传图片只能是 JPG 或PNG格式");var i=e.size/1024/1024<10;return i||c["Message"].error("宣传图片大小不能超过 10MB"),t&&i},handleImageRemove:function(e){this.imageList=this.imageList.filter((function(t){return t.uid!==e.uid}))},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.imageDialogVisible=!0},handleImageExceed:function(){c["Message"].warning("最多只能上传10张宣传图片")}}},p=d,m=i("2877"),g=Object(m["a"])(p,n,o,!1,null,"d7690b12",null),f=g.exports,h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-upload",{attrs:{"list-type":"picture-card",action:"",limit:10,"http-request":e.handleImageUpload,"before-upload":e.beforeImageUpload,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleImageRemove,"on-exceed":e.handleImageExceed}},[i("i",{staticClass:"el-icon-plus"})]),i("el-dialog",{attrs:{visible:e.imageDialogVisible},on:{"update:visible":function(t){e.imageDialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},b=[],v={model:{prop:"imageMoreUrlList",event:"update"},props:{imageMoreUrlList:{type:Array,default:[]}},data:function(){return{imageDialogVisible:!1,imageList:[]}},watch:{imageList:{handler:function(e){e&&e.length?this.imageMoreUrlList=e.map((function(e){return"https://beiyipu.oss-cn-beijing.aliyuncs.com/images/"+e.filename})):this.posterUrl=""},deep:!0},imageMoreUrlList:{handler:function(e){this.$emit("update",e)}}},methods:{handleImageUpload:function(e){var t=this;try{var i=e.file.name.split(".");if(!i||i.length<=1)return c["Message"].error("文件名称不正确");var a=Object(u["v4"])()+"."+i.reverse()[0],r=c["Loading"].service({lock:!0,text:"宣传图片上传中，请稍后",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(l["a"])(a,e.file).then((function(i){return t.imageList.push({uid:e.file.uid,filename:a})})).catch((function(e){return c["Message"].error(Object(s["a"])(e))})).finally((function(){return r.close()}))}catch(n){c["Message"].error(Object(s["a"])(n))}},beforeImageUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||c["Message"].error("宣传图片只能是 JPG 或PNG格式");var i=e.size/1024/1024<10;return i||c["Message"].error("宣传图片大小不能超过 10MB"),t&&i},handleImageRemove:function(e){this.imageList=this.imageList.filter((function(t){return t.uid!==e.uid}))},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.imageDialogVisible=!0},handleImageExceed:function(){c["Message"].warning("最多只能上传10张宣传图片")}}},y=v,L=Object(m["a"])(y,h,b,!1,null,"c56c013c",null),U=L.exports,M=i("c4c8"),I={components:{ImageMoreListUpload:U,ImageListUpload:f},data:function(){return{btnLoading:!1,product:{uuid:"",name:"",category:"",price:"",sales:"",description:"",imageUrlList:[],imageMoreUrlList:[]}}},methods:{CreateProduct:function(){var e=this;this.btnLoading=!0,Object(M["a"])(this.product.name,this.product.category,this.product.price,this.product.sales,this.product.description,this.product.imageUrlList,this.product.imageMoreUrlList).then((function(t){e.$alert("商品信息创建成功","提示",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: ".concat(t)})}}),e.product.uuid=t.Uuid})).finally((function(){e.btnLoading=!1}))}}},w=I,x=(i("5aa2"),Object(m["a"])(w,a,r,!1,null,"45abe930",null));t["default"]=x.exports},"5aa2":function(e,t,i){"use strict";i("9c5f")},"9c5f":function(e,t,i){},c4c8:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return o}));var a=i("b775");function r(e,t,i,r,n,o,l){return Object(a["a"])({url:"/product",method:"post",data:{Name:e,Category:t,Price:i,Sales:r,Description:n,Image:o,ImageMore:l}})}function n(){return Object(a["a"])({url:"/product",method:"get"})}function o(e){return Object(a["a"])({url:"/product/uuid",method:"delete",data:{Uuid:e}})}},e01a:function(e,t,i){"use strict";var a=i("23e7"),r=i("83ab"),n=i("da84"),o=i("5135"),l=i("861d"),c=i("9bf2").f,s=i("e893"),u=n.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};s(p,u);var m=p.prototype=u.prototype;m.constructor=p;var g=m.toString,f="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(m,"description",{configurable:!0,get:function(){var e=l(this)?this.valueOf():this,t=g.call(e);if(o(d,e))return"";var i=f?t.slice(7,-1):t.replace(h,"$1");return""===i?void 0:i}}),a({global:!0,forced:!0},{Symbol:p})}}}]);